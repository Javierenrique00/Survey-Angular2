    <div>
        <h4>Responder Encuestas</h4>
  <!--   <dynamic-form [questions]="questions"></dynamic-form>  -->
    </div>
    <div>
        <p> Seleccione la encuesta para contestar..</p>
    </div>
<!--
    <span *ngFor="let encuesta of lista_encuestas | async" >
        {{encuesta}} <br>
    </span>
-->
  
<div class="well well-lg">
    <table>
        <tr *ngFor="let encuesta of encuestas | async; let i = index" style="height: 30px">
            <td>
                <button type="button" (click)="trae_encuesta(encuesta.id)" class="btn btn-primary btn-xs"
                                    *ngIf="resp_encuesta.indexOf(encuesta.nombre)==-1">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Contestar
                </button> &nbsp;
            </td>
            <td>
                <button (click)="trae_encuesta(encuesta.id)" *ngIf="!(resp_encuesta.indexOf(encuesta.nombre)==-1)" class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-repeat" aria-hidden="true"></span></button>
                &nbsp;
            </td>
            <td>
                <!--   data-target="#perro"  ;  id="perro"
                <button  (click)="eliminaRespuesta(resp_encuesta.indexOf(encuesta.nombre))" *ngIf="!(resp_encuesta.indexOf(encuesta.nombre)==-1)" class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                -->
               <button type="button" class="btn btn-primary btn-xs" data-toggle="modal" [attr.data-target]="'#f_'+ i" *ngIf="!(resp_encuesta.indexOf(encuesta.nombre)==-1)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                &nbsp;

                    <!-- Modal -->
                    <div id="f_{{i}}" class="modal fade" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Eliminar</h4>
                        </div>
                        <div class="modal-body">
                            <p>Por favor confirme si quiere eliminar las respuestas.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" (click)="eliminaRespuesta(resp_encuesta.indexOf(encuesta.nombre))" data-dismiss="modal">Eliminar</button> &nbsp; <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </div>
                        </div>

                    </div>
                    </div>
                    <!-- Fin Modal -->

            </td>
            <td>
                {{encuesta.shortdescription}}
            </td>
        </tr>

    </table>
</div>
    <br>
    <br>
    <hr>
    
    <br>
    <div *ngIf="hay_encuesta">
        <dynamic-form [questions]="preguntas" [usuario_res]="usuario"
        [encuesta_res]="encuesta_actual" [email_res]="email_actual" [shortdescription]="shortdescription" (onrespuesta)="onRespuesta($event)"></dynamic-form>
    </div>




	
